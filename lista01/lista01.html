<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
    <title>Programowanie funkcyjne</title>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-2">
    <style type="text/css">
      body { font-family: sans-serif }
    </style>
  </head>
  <body>
    <table>
      <tbody><tr>
	<td>
	  <table cellpadding="20">
	    <tbody><tr>
	      <td>
		<b>
		  Programowanie funkcyjne, II UWr, 2013/14<br>
		  Lista zadañ nr 1 
		</b> 
	      </td>
	    </tr> 
	  </tbody></table>
	</td>
      </tr>
      <tr>
	<td>
	  <table cellpadding="20">
	    <tbody><tr>
	      <th>
		Czê¶æ I (na 10.10.2013)
	      </th>
	    </tr>
	    <tr>
	      <td>
		<h4>Zadanie 1 (1p.)</h4>
		<ul>
		  <li>
		    Dla ka¿dego z
		    typów <b>int</b>, <b>float</b>, <b>char</b>, <b>string</b>,
		    <b>bool</b> oraz <b>unit</b> napisz wyra¿enie tego typu i
		    wykorzystaj ewaluator OCamla (program <b>ocaml</b>, z linii poleceñ
		    lub zintegrowany z emacsem) do obliczenia jego warto¶ci.
		  </li>
		  <li>
		    Skompiluj (i wykonaj) przyk³adowy
		    program <a href="http://ii.uni.wroc.pl/%7Edabi/courses/PF13/fib.ml">fib.ml</a>
		    za pomoc± kompilatorów <b>ocamlc</b>
		    i <b>ocamlopt</b>
		    (cf. <a href="http://caml.inria.fr/pub/docs/manual-ocaml/index.html">Ocaml
		    Manual, Part III</a>). W przypadku
		    kompilatora <b>ocamlc</b>, uzyskaj plik
		    zawieraj±cy bytecode dla maszyny ZINC, wykonywalny
		    za pomoc± interpretera <b>ocamlrun</b>, a tak¿e
		    bezpo¶rednio wykonywalny plik. Porównaj czas
		    wykonania plikow otrzymanych za pomoc± obu
		    kompilatorów.
		  </li>
		</ul>
	      </td>
	    </tr>
	    <tr>
	      <td>
		<h4>Zadanie 2 (1p.)</h4>
		Czy nastêpuj±ce wyra¿enia s± dobrze typowane? Sprawd¼ ich typy i
		warto¶ci w ewaluatorze.
		<ul>
		  <li><b>if true then 4 else 5</b></li>
		  <li><b>if false then 1 else 3.5</b></li>
		  <li><b>4.75 + 2.34</b></li>
		  <li><b>false || "ab"&gt;"cd"</b></li>
		  <li><b>if true then ()</b></li>
		  <li><b>if false then () else 4</b></li>
		  <li><b>let x = 2 in x^"aa"</b></li>
		  <li><b>let y = "abc" in y^y</b></li>
		  <li><b>(fun x -&gt; x.[1]) "abcdef"</b></li>
		  <li><b>(fun x -&gt; x) true</b></li>
		  <li><b>let x = [1;2] in x@x</b></li>
		  <li><b>let rec f f = f+f in f 42</b></li>
		</ul>
	      </td>
	    </tr>
	    <tr>
	      <td>
		<h4>Zadanie 3 (1p.)</h4>
		Zidentyfikuj zmienne wolne i zwi±zane w wyra¿eniach:
		<ul>
		  <li><b>let x = x in x^x</b></li>
		  <li><b>let x = 10. in let y = x**2. in y*.x</b></li>
		  <li><b>let x = 1 and y = x in x + y</b></li>
		  <li><b>let x = 1 in fun y z -&gt; x*y*z</b></li>
		</ul>
	      </td>
	    </tr>
	    
	    <tr>
	      <td>
		<h4>Zadanie 4 (1p.)</h4>  Jaka jest warto¶æ
		wyra¿enia <b>f 1</b> w ¶rodowisku otrzymanym po
		przetworzeniu nastêpuj±cych definicji:
		<p><b>
		  let m = 10;;<br>
		  let f x = m + x;;<br>
		  let m = 100;;
		</b></p>
		i dlaczego?
	      </td>
	    </tr>
	    <tr>
	      <td>
		<h4>Zadanie 5 (1p.)</h4>  Napisz wyra¿enie, które
		przekonuje, ze Ocaml u¿ywa gorliwej ewaluacji.
	      </td>
	    </tr>
	    <tr>
	      <td>
		<h4>Zadanie 6 (1p.)</h4>  Anonimow± funkcjê dodawania
		dwóch liczb ca³kowitych mo¿emy zapisaæ za pomoc±
		wyra¿enia <b>fun x y -&gt; x + y</b>. Zdefiniuj tê
		funkcjê nadaj±c jej identyfikator <b>plus</b> na 3
		ró¿ne (sk³adniowo) sposoby. Nastêpnie korzystaj±c z
		jednej z tych definicji napisz funkcjê <b>plus_3</b>
		dodawania 3 do dowolnej liczby ca³kowitej.
	      </td>
	    </tr>
	    <tr>
	      <td>
		<h4>Zadanie 7 (1p.)</h4>  Jaki jest typ
		wyra¿enia <b>fun x -&gt; x</b>? Napisz wyra¿enie
		anonimowe reprezentuj±ce funkcjê identyczno¶ciow±,
		którego typem w OCamlu jest typ <b>int -&gt; int</b>.
		Napisz wyra¿enia typów <b>('a -&gt; 'b) -&gt; ('c
		-&gt; 'a) -&gt; 'c -&gt; 'b</b> oraz <b>'a -&gt;
		'b</b>.
	      </td>
	    </tr>
	    <tr>
	      <td>
		<h4>Zadanie 8 (1p.)</h4>  Napisz funkcjê definiuj±c±
		z³o¿enie dwóch funkcji oraz funkcjê iterowania
		wywo³ania funkcji wykorzystuj±c± funkcjê z³o¿enia. Za
		pomoc± iteracji zdefiniuj mno¿enie (skorzystaj z
		faktu, ze operator infiksowy <b>+</b> mo¿e byæ
		potraktowany jak funkcja dwóch argumentów) i
		potêgowanie (przy okazji zdefiniuj odpowiedni operator
		infiksowy).
	      </td>
	    </tr>
	  </tbody></table>
	</td>
      </tr>
      <tr>
	<td>
	  <table cellpadding="20">
	    <tbody><tr>
	      <th colspan="2">Czê¶æ II (na 17.10.2013)
	      </th>
	    </tr>
	    <tr>
	      <td>
		<h4>Zadanie 9 (6p.)</h4> 
		Strumieñ (tj. nieskoñczony ci±g) elementów typu <b>t</b>
		mo¿emy reprezentowaæ za pomoc± funkcji typu <b>int -&gt; t</b> w taki
		sposób, ¿e dla dowolnej takiej funkcji <b>s</b>, <b>s 0</b>
		oznacza pierwszy element strumienia, <b>s 1</b> nastêpny, itd.
		U¿ywaj±c powy¿szej reprezentacji zdefiniuj nastêpuj±ce funkcje na
		strumieniach (funkcje te powinny byæ polimorficzne, tj. powinny
		dzia³aæ na strumieniach o dowolnych elementach):
		<ul>
		  <li><b>hd, tl</b> - funkcje zwracaj±ce odpowiednio g³owê i ogon strumienia</li>
		  <li><b>add</b> - funkcja dodawania zadanej sta³ej do ka¿dego
		    elementu strumienia i zwracaj±ca powsta³y w ten sposób strumieñ</li>
		  <li><b>map</b> - funkcja, która dla zadanej operacji 1-argumentowej
		    przetwarza elementy zadanego strumienia za pomoc± tej operacji i
		    zwraca powsta³y w ten sposób nowy strumieñ (tak, jak <b>map</b> na
		    listach skoñczonych)</li>
		  <li><b>map2</b> - jak wy¿ej, ale dla zadanych: funkcji 2-argumentowej
		    i 2 strumieni</li>
		  <li><b>replace</b> - funkcja, która dla zadanego indeksu <b>n</b>,
		    warto¶ci <b>a</b> i strumienia
		    <b>s</b> zastêpuje co <b>n</b>-ty element strumienia <b>s</b>
		    przez warto¶æ <b>a</b> i zwraca powsta³y w ten sposób strumieñ</li>
		  <li><b>take</b> - funkcja, która dla zadanego indeksu <b>n</b> i
		    strumienia <b>s</b> tworzy nowy strumieñ z³o¿ony z
		    co <b>n</b>-tego elementu strumienia <b>s</b></li>
		  <li><b>fold</b> - funkcja, która dla zadanej
		    funkcji <b>f:'a-&gt;'b-&gt;'a</b>, warto¶ci pocz±tkowej <b>a:'a</b> i
		    strumienia <b>s</b> elementów typu <b>'b</b> tworzy nowy
		    strumieñ, którego ka¿dy element jest wynikiem "zwiniêcia"
		    pocz±tkowego segmentu strumienia <b>s</b> a¿ do bie¿±cego elementu
		    w³±cznie za pomoc± funkcji <b>f</b>, tj. w strumieniu wynikowym
		    element o indeksie <b>n</b> ma warto¶æ <b>(... (f (f a s_0)
		      s_1)... s_n)</b>
		  </li>
		  <li><b>tabulate</b> - funkcja tablicowania strumienia, której
		    warto¶ci± powinna byæ lista elementów strumienia le¿±ca w zadanym
		    zakresie indeksów.</li>
		</ul>
		Zdefiniuj przyk³adowe strumienie i przetestuj implementacjê.
		<br><br>
		W definicji funkcji <b>tabulate</b> wykorzystaj mo¿liwo¶æ definiowania
		parametrów opcjonalnych dla funkcji (niech pocz±tek zakresu indeksów
		bêdzie opcjonalny i domy¶lnie równy <b>0</b>).
		<b>Przyk³ad.</b>
		Pisz±c <b>let f ?(x=0) y = x + y</b> deklarujemy, ¿e pierwszy
		argument funkcji <b>f</b> o etykiecie <b>x</b> jest opcjonalny, a jego
		warto¶æ domy¶lna wynosi <b>0</b>. Funkcjê <b>f</b> mo¿na zatem wywo³aæ za
		pomoc± wyra¿enia <b>f 3</b> (= <b>3</b>) lub jawnie podaj±c warto¶æ
		parametru opcjonalnego, za pomoc± sk³adni <b>f ~x:42 3</b> (= <b>45</b>).  
	      </td>
	    </tr>
	  </tbody></table>
	</td>
      </tr>
    </tbody></table>
  

</body></html>